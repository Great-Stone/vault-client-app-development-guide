# ğŸ”„ Vault ì‹œí¬ë¦¿ ì—°ë™ í”„ë¡œì„¸ìŠ¤

## ğŸ“‹ ê°œìš”

ì´ ë¬¸ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ Vaultì™€ ì—°ë™í•˜ì—¬ ì‹œí¬ë¦¿ì„ ì•ˆì „í•˜ê²Œ ê°€ì ¸ì˜¤ëŠ” ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤. ì–¸ì–´ì— ìƒê´€ì—†ì´ ë²”ìš©ì ìœ¼ë¡œ ì ìš© ê°€ëŠ¥í•œ ì ˆì°¨ë¥¼ sequence ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.

## 1ì•ˆ: Vault API ì§ì ‘ ì—°ê³„ (ê¶Œê³ ì•ˆ âœ…)

1. Vault ì¸ì¦ ë° í† í° ë°œê¸‰
2. í† í° ìƒíƒœ ê´€ë¦¬
3. í† í° ê°±ì‹  í”„ë¡œì„¸ìŠ¤
4. ì •ì  ì‹œí¬ë¦¿ (KV) ê°€ì ¸ì˜¤ê¸°
5. ë™ì  ì‹œí¬ë¦¿ (TTL ê¸°ë°˜) ê´€ë¦¬
6. í†µí•© í”„ë¡œì„¸ìŠ¤ (ì „ì²´ í”Œë¡œìš°)

---

### ğŸ” 1.1: Vault ì¸ì¦ ë° í† í° ë°œê¸‰

#### AppRole ë¡œê·¸ì¸ í”„ë¡œì„¸ìŠ¤

```mermaid
sequenceDiagram
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    participant Vault as Vault ì„œë²„
    
    Note over App,Vault: 1. ì´ˆê¸° ì¸ì¦ ê³¼ì •
    
    App->>Vault: POST /v1/auth/approle/login
    Note right of App: role_id, secret_id ì „ì†¡
    
    Vault-->>App: client_token + lease_duration
    Note left of Vault: í† í° ë°œê¸‰ ë° TTL ì •ë³´
    
    Note over App: í† í° ì €ì¥ ë° ë§Œë£Œ ì‹œê°„ ê³„ì‚°
    Note over App: token_expiry = now + lease_duration
```

#### í† í° ìƒíƒœ ê´€ë¦¬

```mermaid
sequenceDiagram
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    participant Timer as íƒ€ì´ë¨¸/ìŠ¤ì¼€ì¤„ëŸ¬
    
    Note over App,Timer: 2. í† í° ìˆ˜ëª… ì£¼ê¸°ì  ì²´í¬
    
    loop í† í° ìƒíƒœ ëª¨ë‹ˆí„°ë§ (10ì´ˆë§ˆë‹¤)
        Timer->>App: í† í° ìƒíƒœ í™•ì¸ ìš”ì²­
        App->>App: í˜„ì¬ ì‹œê°„ - í† í° ë°œê¸‰ ì‹œê°„ ê³„ì‚°
        App->>App: TTLì˜ 4/5 ì§€ì  ë„ë‹¬ ì—¬ë¶€ í™•ì¸
        
        alt í† í° ê°±ì‹  í•„ìš” (4/5 ì§€ì  ë„ë‹¬)
            App->>App: í† í° ê°±ì‹  í”„ë¡œì„¸ìŠ¤ ì‹œì‘
        else í† í° ì •ìƒ
            App->>Timer: í† í° ìƒíƒœ OK
        end
    end
```

---

### ğŸ”„ 1.2: í† í° ê°±ì‹  í”„ë¡œì„¸ìŠ¤

#### í† í° ê°±ì‹  ë° ì‹¤íŒ¨ ì²˜ë¦¬

```mermaid
sequenceDiagram
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    participant Vault as Vault ì„œë²„
    
    Note over App,Vault: 3. í† í° ê°±ì‹  ê³¼ì •
    
    App->>Vault: POST /v1/auth/token/renew-self
    Note right of App: X-Vault-Token: <current_token>
    
    alt í† í° ê°±ì‹  ì„±ê³µ
        Vault-->>App: ìƒˆë¡œìš´ lease_duration
        Note left of Vault: í† í° TTL ì—°ì¥
        
        App->>App: token_issued = now
        App->>App: token_expiry = now + lease_duration
        Note over App: í† í° ì •ë³´ ì—…ë°ì´íŠ¸
        
    else í† í° ê°±ì‹  ì‹¤íŒ¨
        Note over App: í† í° ê°±ì‹  ë¶ˆê°€ëŠ¥
        App->>App: ì—ëŸ¬ ë¡œê¹… ë° ì•Œë¦¼
        App->>App: ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ë˜ëŠ” ê¸°ë³¸ê°’ ì‚¬ìš©
    end
```

---

### ğŸ”‘ 1.3: ì •ì  ì‹œí¬ë¦¿ (KV) ê°€ì ¸ì˜¤ê¸°

#### KV ì‹œí¬ë¦¿ ì¡°íšŒ ë° ìºì‹±

```mermaid
sequenceDiagram
    participant Timer as íƒ€ì´ë¨¸/ìŠ¤ì¼€ì¤„ëŸ¬
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    participant Cache as ë¡œì»¬ ìºì‹œ
    participant Vault as Vault ì„œë²„
    
    Note over Timer,Vault: 4. ì •ì  ì‹œí¬ë¦¿ (KV) ì¡°íšŒ
    
    App->>App: ì‹œí¬ë¦¿ ìš”ì²­ ë°œìƒ
    
    alt ìºì‹œì— ìœ íš¨í•œ ì‹œí¬ë¦¿ ì¡´ì¬
        App->>Cache: ìºì‹œëœ ì‹œí¬ë¦¿ ì¡°íšŒ
        Cache-->>App: ìºì‹œëœ ì‹œí¬ë¦¿ ë°˜í™˜
        Note over App: ìºì‹œëœ ì‹œí¬ë¦¿ ì‚¬ìš©
        
    else ìºì‹œ ì—†ìŒ ë˜ëŠ” ë§Œë£Œ
        App->>Vault: GET /v1/kv-demo/data/sample
        Note right of App: X-Vault-Token: <valid_token>
        
        Vault-->>App: ì‹œí¬ë¦¿ ë°ì´í„° + ë©”íƒ€ë°ì´í„°
        Note left of Vault: data.data êµ¬ì¡°
        
        App->>Cache: ì‹œí¬ë¦¿ ìºì‹œ ì €ì¥
        Note over App: ìºì‹œ TTL ì„¤ì • (ì„¤ì • íŒŒì¼ ê¸°ë°˜)
        
        App->>App: ì‹œí¬ë¦¿ ë°ì´í„° ì‚¬ìš©
    end
    
    Note over Timer: ì£¼ê¸°ì  ìºì‹œ ê°±ì‹  (ì„¤ì • ê°„ê²©)
    Timer->>App: ìºì‹œ ê°±ì‹  ìš”ì²­
    App->>Vault: GET /v1/kv-demo/data/sample
    Vault-->>App: ìµœì‹  ì‹œí¬ë¦¿ ë°ì´í„°
    App->>Cache: ìºì‹œ ì—…ë°ì´íŠ¸
```

---

### â° 1.4: ë™ì  ì‹œí¬ë¦¿ (TTL ê¸°ë°˜) ê´€ë¦¬

#### TTL ê¸°ë°˜ ì‹œí¬ë¦¿ ê°±ì‹ 

```mermaid
sequenceDiagram
    participant Timer as íƒ€ì´ë¨¸/ìŠ¤ì¼€ì¤„ëŸ¬
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    participant Vault as Vault ì„œë²„
    
    Note over Timer,Vault: 5. ë™ì  ì‹œí¬ë¦¿ (TTL ê¸°ë°˜) ê´€ë¦¬
    
    App->>Vault: GET /v1/database/creds/myapp-role
    Note right of App: X-Vault-Token: <valid_token>
    
    Vault-->>App: ì‹œí¬ë¦¿ + TTL ì •ë³´
    Note left of Vault: username, password, lease_duration
    
    App->>App: ì‹œí¬ë¦¿ TTL ì¶”ì  ì‹œì‘
    Note over App: lease_duration ê¸°ë°˜ ê°±ì‹  ìŠ¤ì¼€ì¤„ë§
    
    loop TTL ê¸°ë°˜ ì£¼ê¸°ì  ê°±ì‹ 
        Timer->>App: TTL ë§Œë£Œ ì „ ê°±ì‹  ìš”ì²­
        Note over Timer: TTLì˜ 4/5 ì§€ì ì—ì„œ ê°±ì‹ 
        
        App->>Vault: GET /v1/database/creds/myapp-role
        Note right of App: ë™ì¼í•œ í† í° ì‚¬ìš©
        
        Vault-->>App: ìƒˆë¡œìš´ ì‹œí¬ë¦¿ + TTL
        Note left of Vault: ìƒˆë¡œìš´ ìê²© ì¦ëª…
        
        App->>App: ìƒˆ ì‹œí¬ë¦¿ìœ¼ë¡œ ì—…ë°ì´íŠ¸
        App->>App: ìƒˆ TTL ê¸°ë°˜ ìŠ¤ì¼€ì¤„ë§
    end
```

---

### ğŸ”„ 1.5: í†µí•© í”„ë¡œì„¸ìŠ¤ (ì „ì²´ í”Œë¡œìš°)

#### ì™„ì „í•œ Vault ì—°ë™ í”„ë¡œì„¸ìŠ¤

```mermaid
sequenceDiagram
    participant Timer as ë°±ê·¸ë¼ìš´ë“œ íƒ€ì´ë¨¸
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    participant Cache as ë¡œì»¬ ìºì‹œ
    participant Vault as Vault ì„œë²„
    
    Note over Timer,Vault: 6. í†µí•© Vault ì—°ë™ í”„ë¡œì„¸ìŠ¤
    
    %% ì´ˆê¸°í™” ë‹¨ê³„
    App->>App: ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘
    App->>App: ì„¤ì • íŒŒì¼ ë¡œë“œ (config.ini)
    
    %% ì¸ì¦ ë‹¨ê³„
    App->>Vault: POST /v1/auth/approle/login
    Note right of App: role_id, secret_id
    
    Vault-->>App: client_token + lease_duration
    App->>App: í† í° ì •ë³´ ì €ì¥ ë° TTL ê³„ì‚°
    
    %% ë°±ê·¸ë¼ìš´ë“œ í† í° ê´€ë¦¬ ì‹œì‘
    App->>Timer: í† í° ê°±ì‹  ìŠ¤ë ˆë“œ ì‹œì‘
    
    %% ë©”ì¸ ë£¨í”„
    loop ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì¤‘
        %% ì‹œí¬ë¦¿ ìš”ì²­
        App->>App: ì‹œí¬ë¦¿ ìš”ì²­ ë°œìƒ
        
        alt ì •ì  ì‹œí¬ë¦¿ (KV)
            App->>Cache: ìºì‹œ í™•ì¸
            
            alt ìºì‹œ ìœ íš¨
                Cache-->>App: ìºì‹œëœ ì‹œí¬ë¦¿
            else ìºì‹œ ë¬´íš¨
                App->>Vault: GET /v1/kv-demo/data/sample
                Vault-->>App: ì‹œí¬ë¦¿ ë°ì´í„°
                App->>Cache: ìºì‹œ ì €ì¥
            end
            
        else ë™ì  ì‹œí¬ë¦¿ (Database/SSH ë“±)
            App->>Vault: GET /v1/database/creds/myapp-role
            Vault-->>App: ì‹œí¬ë¦¿ + TTL
            App->>App: TTL ê¸°ë°˜ ê°±ì‹  ìŠ¤ì¼€ì¤„ë§
        end
        
        App->>App: ì‹œí¬ë¦¿ ì‚¬ìš©
        
        %% ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤
        par í† í° ê°±ì‹ 
            Timer->>App: í† í° ìƒíƒœ í™•ì¸
            alt ê°±ì‹  í•„ìš”
                App->>Vault: POST /v1/auth/token/renew-self
                alt ê°±ì‹  ì„±ê³µ
                    Vault-->>App: ê°±ì‹ ëœ í† í° ì •ë³´
                else ê°±ì‹  ì‹¤íŒ¨
                    App->>App: ì—ëŸ¬ ë¡œê¹… ë° ì¢…ë£Œ
                    Note over App: í† í° ê°±ì‹  ì‹¤íŒ¨ì¸í•œ ê°±ì‹  ë¶ˆê°€
                end
            end
        and ìºì‹œ ê°±ì‹  (ì •ì  ì‹œí¬ë¦¿)
            Timer->>App: ìºì‹œ ê°±ì‹  ìš”ì²­
            App->>Vault: GET /v1/kv-demo/data/sample
            Vault-->>App: ìµœì‹  ì‹œí¬ë¦¿
            App->>Cache: ìºì‹œ ì—…ë°ì´íŠ¸
        and ë™ì  ì‹œí¬ë¦¿ ê°±ì‹ 
            Timer->>App: TTL ê¸°ë°˜ ê°±ì‹ 
            App->>Vault: GET /v1/database/creds/myapp-role
            Vault-->>App: ìƒˆë¡œìš´ ì‹œí¬ë¦¿
        end
    end
    
    %% ì¢…ë£Œ ì²˜ë¦¬
    App->>App: ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ
    App->>Timer: ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ ì¢…ë£Œ
    App->>Cache: ìºì‹œ ì •ë¦¬
```

---

## 2ì•ˆ: Vault Proxy ì‚¬ìš© (Token ê´€ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°)

2ì•ˆì˜ ì‚¬ìš© ì¡°ê±´ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
- 2ì•ˆì€ 1ì•ˆì˜ í”„ë¡œì„¸ìŠ¤ ì¤‘ í† í° ê´€ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
  - Script ê°™ì€ ê²½ìš° ë©€í‹° ì“°ë ˆë”©ìœ¼ë¡œ í† í° ê´€ë¦¬ì˜ êµ¬í˜„ì´ ì–´ë µìŠµë‹ˆë‹¤.
- Vaultì— ë¡œê·¸ì¸ í•˜ê¸° ìœ„í•œ ìš”ì†Œ (ì˜ˆ: AppRole Secret_id, Password ë“±)ë¥¼ ê´€ë¦¬í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.

í”„ë¡œì„¸ìŠ¤ëŠ” 1ì•ˆì˜ í”„ë¡œì„¸ìŠ¤ ì¤‘ ë¡œê·¸ì¸ ë° í† í°ê´€ë¦¬ê°€ ì œì™¸ëœ í”„ë¡œì„¸ìŠ¤ë¡œ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì€ 1ì•ˆê³¼ ë™ì¼í•©ë‹ˆë‹¤.

1. ì •ì  ì‹œí¬ë¦¿ (KV) ê°€ì ¸ì˜¤ê¸°
2. ë™ì  ì‹œí¬ë¦¿ (TTL ê¸°ë°˜) ê´€ë¦¬
3. í†µí•© í”„ë¡œì„¸ìŠ¤ (ì „ì²´ í”Œë¡œìš°)

---

## 3ì•ˆ: Vault Agent + í™˜ê²½ë³€ìˆ˜/íŒŒì¼ ì£¼ì… (ë ˆê±°ì‹œ ì•±ìš©)

3ì•ˆì˜ ì‚¬ìš© ì¡°ê±´ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
- 3ì•ˆì€ 1ì•ˆì˜ í”„ë¡œì„¸ìŠ¤ ì¤‘ í† í° ê´€ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
- Script ê°™ì€ 1íšŒì„± ì‘ì—… ë³´ë‹¤ëŠ” ì˜êµ¬ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
- Vaultì— ë¡œê·¸ì¸ í•˜ê¸° ìœ„í•œ ìš”ì†Œ (ì˜ˆ: AppRole Secret_id, Password ë“±)ë¥¼ ê´€ë¦¬í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.

### ğŸ”§ 3.1: í™˜ê²½ë³€ìˆ˜ ìƒì„± í›„ Command ì‹¤í–‰

#### Vault Agent í™˜ê²½ë³€ìˆ˜ ì£¼ì… í”„ë¡œì„¸ìŠ¤

```mermaid
sequenceDiagram
    participant Vault as Vault ì„œë²„
    participant Agent as Vault Agent
    participant Env as í™˜ê²½ ë³€ìˆ˜
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    
    Note over Vault,App: 1. Vault Agent í™˜ê²½ë³€ìˆ˜ ì£¼ì… í”„ë¡œì„¸ìŠ¤
    
    %% Agent ì´ˆê¸°í™”
    Agent->>Agent: Vault Agent ì‹œì‘
    Agent->>Agent: ì„¤ì • íŒŒì¼ ë¡œë“œ (vault-agent.hcl)
    
    %% Vault ì¸ì¦
    Agent->>Vault: POST /v1/auth/approle/login
    Note right of Agent: role_id, secret_id ì „ì†¡
    
    Vault-->>Agent: client_token + lease_duration
    Note left of Agent: Agentê°€ í† í° ê´€ë¦¬ ë‹´ë‹¹
    
    %% í™˜ê²½ë³€ìˆ˜ ìƒì„±
    Agent->>Vault: GET /v1/kv-demo/data/sample
    Note right of Agent: X-Vault-Token: <agent_token>
    
    Vault-->>Agent: ì‹œí¬ë¦¿ ë°ì´í„°
    Agent->>Env: í™˜ê²½ë³€ìˆ˜ ìƒì„±
    Note over Env: DB_PASSWORD=secret123
    Note over Env: API_KEY=key456
    
    %% ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
    Agent->>App: í™˜ê²½ë³€ìˆ˜ì™€ í•¨ê»˜ ì‹¤í–‰
    Note right of Agent: exec { command = ["./my-app"] }
    
    App->>App: getenv("DB_PASSWORD") ì‚¬ìš©
    App->>App: getenv("API_KEY") ì‚¬ìš©
    
    %% ì£¼ê¸°ì  ê°±ì‹ 
    loop ì‹œí¬ë¦¿ ë³€ê²½ ê°ì§€
        Agent->>Vault: GET /v1/kv-demo/data/sample
        Vault-->>Agent: ìµœì‹  ì‹œí¬ë¦¿ ë°ì´í„°
        
        alt ì‹œí¬ë¦¿ ë³€ê²½ë¨
            Agent->>Env: í™˜ê²½ë³€ìˆ˜ ì—…ë°ì´íŠ¸
            Agent->>App: ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘
            Note over Agent: restart_on_secret_changes = "always"
        else ì‹œí¬ë¦¿ ë™ì¼
            Note over Agent: ë³€ê²½ ì—†ìŒ, ê³„ì† ì‹¤í–‰
        end
    end
```

### ğŸ“„ 3.2: íŒŒì¼ í…œí”Œë¦¿ ë Œë”ë§ í›„ Command ì‹¤í–‰

#### Vault Agent íŒŒì¼ í…œí”Œë¦¿ í”„ë¡œì„¸ìŠ¤

```mermaid
sequenceDiagram
    participant Agent as Vault Agent
    participant Vault as Vault ì„œë²„
    participant File as í…œí”Œë¦¿ íŒŒì¼
    participant App as ì• í”Œë¦¬ì¼€ì´ì…˜
    
    Note over Agent,App: 2. Vault Agent íŒŒì¼ í…œí”Œë¦¿ í”„ë¡œì„¸ìŠ¤
    
    %% Agent ì´ˆê¸°í™”
    Agent->>Agent: Vault Agent ì‹œì‘
    Agent->>Agent: ì„¤ì • íŒŒì¼ ë¡œë“œ (vault-agent.hcl)
    
    %% Vault ì¸ì¦
    Agent->>Vault: POST /v1/auth/approle/login
    Note right of Agent: role_id, secret_id ì „ì†¡
    
    Vault-->>Agent: client_token + lease_duration
    Note left of Vault: Agentê°€ í† í° ê´€ë¦¬ ë‹´ë‹¹
    
    %% í…œí”Œë¦¿ íŒŒì¼ ë Œë”ë§
    Agent->>Vault: GET /v1/kv-demo/data/sample
    Note right of Agent: X-Vault-Token: <agent_token>
    
    Vault-->>Agent: ì‹œí¬ë¦¿ ë°ì´í„°
    Agent->>File: í…œí”Œë¦¿ íŒŒì¼ ë Œë”ë§
    Note over File: config.ini ìƒì„±
    Note over File: [database]
    Note over File: password = secret123
    Note over File: api_key = key456
    
    %% ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
    Agent->>App: ë Œë”ë§ëœ íŒŒì¼ê³¼ í•¨ê»˜ ì‹¤í–‰
    Note right of Agent: exec { command = ["./my-app"] }
    
    App->>File: config.ini íŒŒì¼ ì½ê¸°
    App->>App: ì‹œí¬ë¦¿ ë°ì´í„° ì‚¬ìš©
    
    %% ì£¼ê¸°ì  ê°±ì‹ 
    loop ì‹œí¬ë¦¿ ë³€ê²½ ê°ì§€
        Agent->>Vault: GET /v1/kv-demo/data/sample
        Vault-->>Agent: ìµœì‹  ì‹œí¬ë¦¿ ë°ì´í„°
        
        alt ì‹œí¬ë¦¿ ë³€ê²½ë¨
            Agent->>File: í…œí”Œë¦¿ íŒŒì¼ ì¬ë Œë”ë§
            Note over File: config.ini ì—…ë°ì´íŠ¸
            Agent->>App: ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘
            Note over Agent: restart_on_secret_changes = "always"
        else ì‹œí¬ë¦¿ ë™ì¼
            Note over Agent: ë³€ê²½ ì—†ìŒ, ê³„ì† ì‹¤í–‰
        end
    end
```

---

## ğŸ¯ í•µì‹¬ ì›ì¹™

### 1. **í† í° ê´€ë¦¬**
- í† í°ì€ TTLì˜ 4/5 ì§€ì ì—ì„œ ê°±ì‹ 
- ê°±ì‹  ì‹¤íŒ¨ ì‹œ ì¬ë¡œê·¸ì¸ ì‹œë„í•˜ì§€ ì•ŠìŒ (secret_id ë§Œë£Œ ê°€ëŠ¥ì„±)
- ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì§€ì†ì  ëª¨ë‹ˆí„°ë§

### 2. **ì‹œí¬ë¦¿ ìºì‹±**
- ì •ì  ì‹œí¬ë¦¿: ì„¤ì • ê¸°ë°˜ ìºì‹œ TTL
- ë™ì  ì‹œí¬ë¦¿: Vault TTL ê¸°ë°˜ ìë™ ê°±ì‹ 
- ë©”ëª¨ë¦¬ì—ì„œë§Œ ì €ì¥, íŒŒì¼ ì €ì¥ ê¸ˆì§€

### 3. **ì—ëŸ¬ ë³µêµ¬**
- í† í° ê°±ì‹  ì‹¤íŒ¨ ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ë˜ëŠ” ê¸°ë³¸ê°’ ì‚¬ìš©
- secret_id ë§Œë£Œ ì‹œ ì¬ë¡œê·¸ì¸ ì‹œë„í•˜ì§€ ì•ŠìŒ
- ì‹¤íŒ¨ ì‹œ ì•ˆì „í•œ ì¢…ë£Œ ë˜ëŠ” ê¸°ë³¸ê°’ ì‚¬ìš©

### 4. **ë³´ì•ˆ ê³ ë ¤ì‚¬í•­**
- ì‹œí¬ë¦¿ì€ ë©”ëª¨ë¦¬ì—ì„œë§Œ ì‚¬ìš©
- ë¡œê·¸ì— ì‹œí¬ë¦¿ ë°ì´í„° ì¶œë ¥ ê¸ˆì§€
- í† í° ë§Œë£Œ ì‹œê°„ ì ì ˆíˆ ì„¤ì •
- ì •ê¸°ì ì¸ ë³´ì•ˆ ê°ì‚¬ ìˆ˜í–‰

---